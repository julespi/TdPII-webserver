{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="../static/estilo.css" />
{% endblock %}

{% block content %}



<body>

   <h2>Nodos</h2>
   <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth" id=t_nodos>
      <thead>
         <tr>
            <th onclick="sortTable(0,'t_nodos')">Numero de Nodo </th>
            <th onclick="sortTable(1,'t_nodos')">Version de Firmware </th>
            <th onclick="sortTable(2,'t_nodos')">Nombre del Nodo </th>
            <th onclick="sortTable(3,'t_nodos')">Descripcion </th>
         </tr>
      </thead>

      <tbody>
         {% for temp in nodos %}
         <tr>
            <td>{{ temp.nodo }}</td>
            <td>{{ temp.firmware}}</td>
            <td>{{ temp.nombre}}</td>
            <td>{{ temp.descripcion}}</td>
         </tr>
         {% endfor %}
      </tbody>
   </table>
   <!-- <h2>Datos</h2>

   <section class="hero is-primary">
      <div class="hero-body">
         <div class="container">
            <p class="title">Datos </p>
            <p class="subtitle">Responsive table demo.</p>
         </div>
      </div>
   </section>

   <div class="box">
      <div class="table-container">
         <table class="table is-responsive is-bordered is-striped is-narrow is-hoverable is-fullwidth table-container" id="t_datos">
            <thead>
               <tr>
                  <th onclick="sortTable(0,'t_datos')">Nodo </th>
                  <th onclick="sortTable(1,'t_datos')">Timestamp </th>
                  <th onclick="sortTable(2,'t_datos')">Volumen </th>
                  <th onclick="sortTable(3,'t_datos')">Temperatura </th>
                  <th onclick="sortTable(4,'t_datos')">Latitud </th>
                  <th onclick="sortTable(5,'t_datos')">Longitud </th>
                  <th onclick="sortTable(6,'t_datos')">Evento </th>
               </tr>
            </thead>
            <tbody>
               {% for dato in tabla %}
               <tr>
                  <td>{{ dato.nodo }}</td>
                  <td>{{ dato.time}}</td>
                  <td>{{ dato.vol}}</td>
                  <td>{{ dato.temp}}</td>
                  <td>{{ dato.lat}}</td>
                  <td>{{ dato.lon}}</td>
                  <td>{{ dato.eve}}</td>
               </tr>
               {% endfor %}
            </tbody>
         </table>
      </div>
   </div> -->




   <table class="table is-bordered is-striped is-narrow is-hoverable" id=t_datos>
      <thead>
         <tr>
            <th onclick="sortTable(0,'t_datos')" scope="col">Nodo </th>
            <th onclick="sortTable(1,'t_datos')" scope="col">Timestamp </th>
            <th onclick="sortTable(2,'t_datos')" scope="col">Volumen </th>
            <th onclick="sortTable(3,'t_datos')" scope="col">Temperatura </th>
            <th onclick="sortTable(4,'t_datos')" scope="col">Latitud </th>
            <th onclick="sortTable(5,'t_datos')" scope="col">Longitud </th>
            <th onclick="sortTable(6,'t_datos')" scope="col">Evento </th>
         </tr>
      </thead>

      <tbody>
         {% for dato in tabla %}
         <tr>
            <td data-label="Nodo">{{ dato.nodo }}</td>
            <td data-label="Timestamp">{{ dato.time}}</td>
            <td data-label="Volumen">{{ dato.vol}}</td>
            <td data-label="Temperatura">{{ dato.temp}}</td>
            <td data-label="Latitud">{{ dato.lat}}</td>
            <td data-label="Longitud">{{ dato.lon}}</td>
            <td data-label="Evento">{{ dato.eve}}</td>
         </tr>
         {% endfor %}
      </tbody>
   </table>
</body>
<script>
   function sortTable(n, id_tabla) {
      var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
      table = document.getElementById(id_tabla);
      switching = true;
      // Set the sorting direction to ascending:
      dir = "asc";
      /* Make a loop that will continue until
      no switching has been done: */
      while (switching) {
         // Start by saying: no switching is done:
         switching = false;
         rows = table.rows;
         /* Loop through all table rows (except the
         first, which contains table headers): */
         for (i = 1; i < (rows.length - 1); i++) {
            // Start by saying there should be no switching:
            shouldSwitch = false;
            /* Get the two elements you want to compare,
            one from current row and one from the next: */
            x = rows[i].getElementsByTagName("TD")[n];
            y = rows[i + 1].getElementsByTagName("TD")[n];
            /* Check if the two rows should switch place,
            based on the direction, asc or desc: */
            if (dir == "asc") {
               if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                  // If so, mark as a switch and break the loop:
                  shouldSwitch = true;
                  break;
               }
            } else if (dir == "desc") {
               if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                  // If so, mark as a switch and break the loop:
                  shouldSwitch = true;
                  break;
               }
            }
         }
         if (shouldSwitch) {
            /* If a switch has been marked, make the switch
            and mark that a switch has been done: */
            rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
            switching = true;
            // Each time a switch is done, increase this count by 1:
            switchcount++;
         } else {
            /* If no switching has been done AND the direction is "asc",
            set the direction to "desc" and run the while loop again. */
            if (switchcount == 0 && dir == "asc") {
               dir = "desc";
               switching = true;
            }
         }
      }
   }
</script>
{% endblock %}